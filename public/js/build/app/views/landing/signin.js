define(["marionette","text!app/templates/landing/signin.html","app/models/user"],function(e,t,n){return Backbone.Marionette.ItemView.extend({events:{"click #signInButton":"signIn","keypress input[type=text]":"pressedEnter"},template:t,childViewContainer:"body",pressedEnter:function(e){if(e.keyCode!=13)return;this.signIn()},signIn:function(e){return e.preventDefault(),$.ajax({type:"POST",url:"signin",async:!1,data:$("#signinForm").serialize()}).complete(function(e){var t=JSON.parse(e.responseText);if(t.login==1)return localStorage.setObject("user",t.user),MyApp.vent.trigger("signIn:successful"),window.location.hash="home";alert("Username or password is incorrect")}),!1}})});