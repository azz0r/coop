define(["marionette","text!app/templates/landing/signup.html","text!app/templates/landing/signup-success.html"],function(e,t,n){return Backbone.Marionette.ItemView.extend({events:{"click #signUpButton":"signUp","keypress input[type=password]":"pressedEnter"},template:t,pressedEnter:function(e){if(e.keyCode!=13)return;this.signIn()},signUp:function(e){e.preventDefault();var t=this;$.ajax({type:"POST",url:"signup",async:!1,data:{email:$("#signUpEmail").val(),password:$("#signUpPassword").val()}}).complete(function(e){var r=JSON.parse(e.responseText);if(r.created!=1&&typeof r.result!="undefined")alert("Sign-up failed: "+r.result);else{if(r.created==1)return t.template=n,t.render();alert("Signup failed, please wait one moment and try again.")}})}})});