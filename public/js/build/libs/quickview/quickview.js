define(["backbone","text!libs/quickview/quickview.html"],function(e,t){var n=function(e){if(!(e.view instanceof Backbone.View))throw"Unsupported quickview type";$("#quickviewLatch").html(_.template(t)),$("#quickviewContent").prepend(e.view.render().el),_.has(e,"className")&&!_.isEmpty(e.className)&&$("#quickviewContainer").addClass(e.className),$("body").prepend('<div id="quickviewBackground"></div>')};$(document).keyup(function(e){e.keyCode==27&&MyApp.vent.trigger("quickview:close")}),$.quickview=function(e){e=e||{},n(e),$(".btn-close, #quickviewBackground").on("click",function(){MyApp.vent.trigger("quickview:close")}),MyApp.vent.on("quickview:close",function(){$("#quickview").remove(),$("#quickviewBackground").remove()})}});